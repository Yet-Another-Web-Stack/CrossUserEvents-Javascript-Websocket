!function(){"use strict";"yaws"in window||(window.yaws={}),window.yaws.socketConnect=function(a,b,c){var d=function(a,b){if(!("Websocket"in window))throw"No Websocket Implementation found";var c=function(a,b){var c=function(a,b){return a&&"object"==typeof a&&b&&a[b]&&"number"==typeof a[b]},d={timeout:5e3,maxInterval:6e4};if(!c(a,b)){if(b in d)return d[b];throw"No default defined for "+b+"."}return parseInt(a[b],10)!==a[b]?parseInt(1e3*a[b],10):a[b]};if("RobustWebSocket"in window){var d=new RobustWebSocket(a,[],{timeout:c(b,"timeout"),shouldReconnect:function(a,b){return 1008===a.code||1011===a.code?null:Math.min(500*Math.pow(1.05,(b.attempts+2)*b.attempts/2),b.maxInterval)}});return d.maxInterval=c(b,"maxInterval"),d}return"ReconnectingWebSocket"in window?new ReconnectingWebSocket(a,[],{maxReconnectInterval:c(b,"maxInterval"),reconnectDecay:2.5,timeoutInterval:c(b,"timeout")}):new Websocket(a,[])},e=function(){return"FileReader"in window?function(a){if("object"!=typeof a.data)throw"Got something ("+typeof a.data+") that shouldn't be returned by the socket.";if(a.data instanceof Blob)return void a.target.onMessageHandler(a.data);if(a.data instanceof ArrayBuffer){var b=new FileReader;return b.onLoadHandler=a.target.onMessageHandler,b.onload=function(a){a.target.onLoadHandler(a.target.result)},void b.readAsArrayBuffer(a.data)}throw"Got an object of a type that shouldn't be returned by the socket."}:function(a){if("object"!=typeof a.data)throw"Got something ("+typeof a.data+") that shouldn't be returned by the socket.";if(a.data instanceof Blob)return void a.target.onMessageHandler(a.data);throw"Got an object of a type that shouldn't be returned by the socket."}};if("function"!=typeof b)throw"The second parameter onMessage is required to be a function accepting a single parameter of type Blob.";var f=d(a,c);return f.onMessageHandler=b,f.onmessage=e(),f}}();
